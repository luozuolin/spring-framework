#SpringAop事物管理简介及编程式事物实现
##1.数据库事务四个特性ACID
####1.1 原子性（Atomicity）
整个事务中的所有操作，要么全部完成，要么全部不完成，
不可能停滞在中间某个环节。事务在执行过程中发生错误，
会被回滚（Rollback）到事务开始前的状态，就像这个事务
从来没有执行过一样
####1.2 一致性（Correspondence）
指事务必须使数据库从一个一致性状态变换到另一个一致性状态，
也就是说一个事务执行之前和执行之后都必须处于一致性状态。
####1.3 隔离性（Isolation）
隔离状态执行事务，使它们好像是系统在给定时间内执行的唯一操作。
如果有两个事务，运行在相同的时间内，执行相同的功能，
事务的隔离性将确保每一事务在系统中认为只有该事务在使用系统。
这种属性有时称为串行化，为了防止事务操作间的混淆，
必须串行化或序列化请求，使得在同一时间仅有一个请求用于同一数据。
####1.4 持久性（Durability）
事物提交成功之后，事物中的所有数据都必须持久化到数据库中。
即使事物提交之后数据库立刻崩溃，也需要保证数据能能够被恢复。
##2 事物隔离级别
数据库事务的隔离级别有4种，由低到高分别为Read uncommitted 、Read committed 、Repeatable read 、Serializable 
####2.1 Read uncommitted
读未提交，顾名思义，就是一个事务可以读取另一个未提交事务的数据。
####2.2 Read committed
读提交，顾名思义，就是一个事务要等另一个事务提交后才能读取数据。
####2.3 Repeatable read
重复读，就是在开始读取数据（事务开启）时，不再允许修改操作
####2.4 Serializable 序列化
Serializable 是最高的事务隔离级别，在该级别下，事务串行化顺序执行，可以避免脏读、不可重复读与幻读。
但是这种事务隔离级别效率低下，比较耗数据库性能，一般不使用。
值得一提的是：大多数数据库默认的事务隔离级别是Read committed，比如Sql Server , Oracle。
Mysql的默认隔离级别是Repeatable read。
##3 事务的并发问题
####3.1 脏读
事务A读取了事务B更新的数据，然后B回滚操作，那么A读取到的数据是脏数据
####3.2 不可重复读
事务 A 多次读取同一数据，事务 B 在事务A多次读取的过程中，对数据作了更新并提交，导致事务A多次读取同一数据时，结果 不一致。
####3.3 幻读
系统管理员A将数据库中所有学生的成绩从具体分数改为ABCDE等级，但是系统管理员B就在这个时候插入了一条具体分数的记录，当系统管理员A改结束后发现还有一条记录没有改过来，就好像发生了幻觉一样，这就叫幻读。
####3.4 小结
不可重复读的和幻读很容易混淆，不可重复读侧重于修改，幻读侧重于新增或删除。解决不可重复读的问题只需锁住满足条件的行，解决幻读需要锁表